{"version":3,"sources":["../../../src/components/sandbox/sandbox-input.js"],"names":["last","calculateNotificationHash","inputToMarbles","stream","map","t","time","c","content","index","id","itemId","getInput","input","lastInput","slice","getTime","inputsToTimelines","inputs","marbles","end","interactive"],"mappings":"AAAA,SAASA,IAAT,QAAqB,OAArB;AAEA,SAASC,yBAAT,QAA0C,iBAA1C;;AAEA,SAASC,cAAT,CAAwBC,MAAxB,EAAgC;AAC9B,SAAOA,MAAM,CAACC,GAAP,CAAW,CAAC;AAAEC,IAAAA,CAAC,EAAEC,IAAL;AAAWC,IAAAA,CAAC,EAAEC;AAAd,GAAD,EAA0BC,KAA1B,MAAqC;AACrDC,IAAAA,EAAE,EAAET,yBAAyB,CAAC;AAAEK,MAAAA,IAAF;AAAQE,MAAAA;AAAR,KAAD,CADwB;AAErDF,IAAAA,IAFqD;AAGrDE,IAAAA,OAHqD;AAIrDG,IAAAA,MAAM,EAAEF;AAJ6C,GAArC,CAAX,CAAP;AAMD;;AAED,SAASG,QAAT,CAAkBC,KAAlB,EAAyB;AACvB,QAAMC,SAAS,GAAGd,IAAI,CAACa,KAAD,CAAtB;AACA,SAAO,OAAOC,SAAP,KAAqB,QAArB,GACHD,KAAK,CAACE,KAAN,CAAY,CAAZ,EAAe,CAAC,CAAhB,CADG,GAEHF,KAFJ;AAGD;;AAED,SAASG,OAAT,CAAiBH,KAAjB,EAAwB;AACtB,QAAMC,SAAS,GAAGd,IAAI,CAACa,KAAD,CAAtB;AACA,SAAO,OAAOC,SAAP,KAAqB,QAArB,GACHA,SADG,GAEH,GAFJ;AAGD;;AAED,OAAO,SAASG,iBAAT,CAA2BC,MAA3B,EAAmC;AACxC,SAAOA,MAAM,CACVd,GADI,CACA,CAACS,KAAD,EAAQJ,KAAR,MAAmB;AACtBC,IAAAA,EAAE,EAAED,KADkB;AAEtBU,IAAAA,OAAO,EAAEjB,cAAc,CAACU,QAAQ,CAACC,KAAD,CAAT,CAFD;AAGtBO,IAAAA,GAAG,EAAE;AAAEd,MAAAA,IAAI,EAAEU,OAAO,CAACH,KAAD;AAAf,KAHiB;AAItBQ,IAAAA,WAAW,EAAE;AAJS,GAAnB,CADA,CAAP;AAOD","sourcesContent":["import { last } from 'ramda';\n\nimport { calculateNotificationHash } from './sandbox-utils';\n\nfunction inputToMarbles(stream) {\n  return stream.map(({ t: time, c: content }, index) => ({\n    id: calculateNotificationHash({ time, content }),\n    time,\n    content,\n    itemId: index,\n  }));\n}\n\nfunction getInput(input) {\n  const lastInput = last(input);\n  return typeof lastInput === 'number'\n    ? input.slice(0, -1)\n    : input;\n}\n\nfunction getTime(input) {\n  const lastInput = last(input);\n  return typeof lastInput === 'number'\n    ? lastInput\n    : 100;\n}\n\nexport function inputsToTimelines(inputs) {\n  return inputs\n    .map((input, index) => ({\n      id: index,\n      marbles: inputToMarbles(getInput(input)),\n      end: { time: getTime(input) },\n      interactive: true,\n    }));\n}\n"],"file":"sandbox-input.js"}